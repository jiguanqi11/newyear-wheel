<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>å…ƒæ—¦æŠ½ç¤¼ç‰©</title>
  <style>
    :root{
      --bg1:#0b1020;
      --bg2:#120b2d;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.12);
      --text:#f5f6ff;
      --muted: rgba(245,246,255,.7);
      --accent:#ffcc66;
      --accent2:#7cf0ff;
      --btn:#ffffff;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "PingFang SC", "Noto Sans CJK SC", "Microsoft YaHei", Arial, sans-serif;
      background: radial-gradient(1000px 800px at 30% 20%, rgba(124,240,255,.25), transparent 50%),
                  radial-gradient(900px 700px at 75% 10%, rgba(255,204,102,.18), transparent 45%),
                  linear-gradient(160deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }
    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 28px 18px 60px;
    }
    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:16px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:700;
      letter-spacing:.5px;
    }
    .badge{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(255,204,102,.25), rgba(124,240,255,.18));
      border:1px solid rgba(255,255,255,.16);
      color:var(--muted);
    }

    /* landing */
    .center{
      min-height: calc(100vh - 140px);
      display:grid;
      place-items:center;
    }
    .panel{
      width:min(560px, 92vw);
      padding: 28px 22px;
      border-radius: 20px;
      background: linear-gradient(180deg, var(--card), rgba(255,255,255,.05));
      border:1px solid rgba(255,255,255,.16);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .panel:before{
      content:"";
      position:absolute;
      inset:-120px -120px auto auto;
      width:220px; height:220px;
      background: radial-gradient(circle, rgba(255,204,102,.35), transparent 60%);
      filter: blur(2px);
      transform: rotate(15deg);
    }
    .panel h1{
      margin:0 0 10px;
      font-size: 26px;
      line-height:1.2;
    }
    .panel p{
      margin:0 0 18px;
      color:var(--muted);
      line-height:1.7;
      font-size:14px;
    }
    .bigbtn{
      width:100%;
      padding: 14px 16px;
      border:none;
      border-radius: 14px;
      font-weight:800;
      font-size:16px;
      cursor:pointer;
      color:#101018;
      background: linear-gradient(90deg, var(--btn), rgba(255,255,255,.85));
      box-shadow: 0 16px 40px rgba(255,255,255,.08);
      transition: transform .08s ease, filter .2s ease;
    }
    .bigbtn:hover{ filter: brightness(1.05); }
    .bigbtn:active{ transform: translateY(1px) scale(.995); }

    /* game */
    .game{
      display:none;
      margin-top: 16px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 16px;
    }
    @media (min-width: 860px){
      .grid{ grid-template-columns: 420px 1fr; align-items:start; }
    }
    .card{
      border-radius: 20px;
      background: linear-gradient(180deg, var(--card), rgba(255,255,255,.05));
      border:1px solid rgba(255,255,255,.16);
      box-shadow: var(--shadow);
      padding: 18px;
    }
    .title{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 12px;
    }
    .title h2{
      margin:0;
      font-size: 18px;
      letter-spacing:.4px;
    }
    .sub{
      margin:0;
      color:var(--muted);
      font-size: 12px;
    }

    .wheelBox{
      display:grid;
      place-items:center;
      padding: 8px 0 4px;
      position:relative;
    }
    canvas#wheel{
      width: 320px;
      height: 320px;
      max-width: 80vw;
      max-height: 80vw;
      border-radius: 999px;
      background: rgba(255,255,255,.02);
      border:1px solid rgba(255,255,255,.14);
      box-shadow: 0 18px 50px rgba(0,0,0,.35);
    }
    .pointer{
      position:absolute;
      top: -2px;
      left: 50%;
      transform: translateX(-50%);
      width:0; height:0;
      border-left: 14px solid transparent;
      border-right:14px solid transparent;
      border-top: 26px solid var(--accent);
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.45));
    }
    .hub{
      position:absolute;
      width:72px; height:72px;
      border-radius:999px;
      background: radial-gradient(circle at 35% 30%, rgba(255,255,255,.95), rgba(255,255,255,.72));
      border:1px solid rgba(255,255,255,.25);
      box-shadow: 0 14px 40px rgba(0,0,0,.35);
      display:grid;
      place-items:center;
      color:#111;
      font-weight:900;
      letter-spacing:.6px;
      user-select:none;
      pointer-events:none;
    }
    .controls{
      display:flex;
      gap:10px;
      margin-top: 12px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .btn{
      padding: 11px 14px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.18);
      background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
      color:var(--text);
      cursor:pointer;
      font-weight:700;
      transition: transform .08s ease, filter .2s ease, opacity .2s ease;
      min-width: 140px;
      text-align:center;
    }
    .btn.primary{ background: linear-gradient(90deg, rgba(255,204,102,.35), rgba(124,240,255,.22)); }
    .btn:disabled{ opacity:.5; cursor:not-allowed; }
    .btn:active{ transform: translateY(1px); }

    .list{
      margin: 0;
      padding: 0;
      list-style:none;
      display:grid;
      gap:10px;
    }
    .li{
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      display:flex;
      justify-content:space-between;
      gap:10px;
      color:var(--muted);
      font-size:14px;
    }
    .li b{ color:var(--text); font-weight:800; }

    /* modal */
    .modal{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 20;
    }
    .dialog{
      width:min(520px, 92vw);
      border-radius: 22px;
      background: linear-gradient(180deg, rgba(30,36,70,.92), rgba(18,12,45,.92));
      border:1px solid rgba(255,255,255,.18);
      box-shadow: 0 25px 90px rgba(0,0,0,.6);
      padding: 18px;
      position:relative;
      overflow:hidden;
    }
    .dialog:before{
      content:"";
      position:absolute;
      inset:-120px auto auto -120px;
      width:240px; height:240px;
      background: radial-gradient(circle, rgba(124,240,255,.28), transparent 60%);
      filter: blur(2px);
    }
    .dialog h3{
      margin: 0 0 8px;
      font-size: 18px;
    }
    .result{
      margin: 10px 0 14px;
      padding: 14px;
      border-radius: 16px;
      background: rgba(255,255,255,.07);
      border:1px solid rgba(255,255,255,.14);
      line-height:1.6;
    }
    .result .big{
      font-size: 22px;
      font-weight: 900;
      letter-spacing:.5px;
      color: #fff;
      margin-top: 4px;
    }
    .dialog .row{
      display:flex; gap:10px; flex-wrap:wrap;
      justify-content:flex-end;
    }
    .hint{
      color: var(--muted);
      font-size: 12px;
      margin: 0;
    }

    /* confetti canvas */
    #fx{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index: 30;
      display:none;
    }
  </style>
</head>
<body>
<canvas id="fx"></canvas>

<div class="wrap">
  <header>
    <div class="brand">
      <span style="font-size:18px;">ğŸ‰</span>
      <span>å…ƒæ—¦æŠ½ç¤¼ç‰©</span>
      <span class="badge">è½¬ç›˜æŠ½å¥– Â· å•æ¬¡å¼€å¥–</span>
    </div>
    <div class="badge" id="dateBadge"></div>
  </header>

  <!-- Landing -->
  <div class="center" id="landing">
    <div class="panel">
      <h1>å…ƒæ—¦æŠ½ç¤¼ç‰©</h1>
      <p>ç‚¹å‡»â€œå¼€å¯â€è¿›å…¥è½¬ç›˜ã€‚æŠ½ä¸€æ¬¡å°±å¼€ä¸€æ¬¡å¥–ï¼ˆé¿å…åå¤åˆ·å¥–ï¼‰ã€‚æƒ³æ”¹æ¦‚ç‡ã€æ”¹å¥–å“ï¼Œç›´æ¥æ”¹ä»£ç é‡Œçš„æ•°ç»„å³å¯ã€‚</p>
      <button class="bigbtn" id="openBtn">å¼€å¯</button>
    </div>
  </div>

  <!-- Game -->
  <section class="game" id="game">
    <div class="grid">
      <div class="card">
        <div class="title">
          <h2>è½¬ç›˜</h2>
          <p class="sub" id="statusText">å‡†å¤‡å°±ç»ª</p>
        </div>

        <div class="wheelBox">
          <div class="pointer" aria-hidden="true"></div>
          <canvas id="wheel" width="640" height="640" aria-label="è½¬ç›˜"></canvas>
          <div class="hub">æŠ½</div>
        </div>

        <div class="controls">
          <button class="btn primary" id="spinBtn">å¼€å§‹æŠ½å¥–</button>
          <button class="btn" id="resetBtn">é‡ç½®ï¼ˆå…è®¸å†æŠ½ï¼‰</button>
        </div>

        <p class="hint" style="margin-top:10px;">
          å°å½©è›‹ï¼šå¼€å¥–æ—¶ä¼šæ‰ä¸€ç‚¹â€œå½©çº¸â€ã€‚å¦‚æœä½ ä¸æƒ³è¦ç‰¹æ•ˆï¼ŒæŠŠä»£ç é‡Œ playConfetti() é‚£è¡Œåˆ æ‰å°±è¡Œã€‚
        </p>
      </div>

      <div class="card">
        <div class="title">
          <h2>å¥–æ± </h2>
          <p class="sub">å…± 5 é¡¹</p>
        </div>
        <ul class="list" id="prizeList"></ul>
      </div>
    </div>
  </section>
</div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="dialog" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <h3 id="modalTitle">å¼€å¥–ç»“æœ</h3>
    <div class="result">
      <div style="color:rgba(245,246,255,.8); font-size:13px;">ä½ æŠ½åˆ°äº†ï¼š</div>
      <div class="big" id="resultText">â€”</div>
      <div style="margin-top:6px;color:rgba(245,246,255,.75);font-size:13px;" id="resultTip"></div>
    </div>
    <div class="row">
      <button class="btn" id="closeBtn">æˆ‘çŸ¥é“äº†</button>
    </div>
  </div>
</div>

<script>
  // ======================
  // 1) é…ç½®åŒºï¼šå¥–å“ä¸æ¦‚ç‡
  // ======================
  const prizes = [
    { name: "ä¸€ç­‰å¥–ï¼š52r", tip: "æ‰‹æ°”å¾ˆé¡¶ã€‚ä»Šæ™šåŠ é¤æœ‰äº†ã€‚" },
    { name: "äºŒç­‰å¥–ï¼šè‡ªé€‰å¤–å–æŠ¥é”€ï¼ˆ30ä»¥å†…ï¼‰", tip: "å¿«ä¹ç¢³æ°´ï¼Œåˆç†æŠ¥é”€ã€‚" },
    { name: "ä¸‰ç­‰å¥–ï¼šå°è›‹ç³•ä¸€ä¸ª", tip: "ç”œå‘³è¡¥ç»™ï¼Œé€‚åˆé…å¥¶èŒ¶ã€‚" },
    { name: "å››ç­‰å¥–ï¼š13.14", tip: "å°å°ä»ªå¼æ„Ÿï¼Œæ•°å­—ä¹ŸæŒºæµªæ¼«ï¼ˆä½†ä¸å¿…å¤šæƒ³å“ˆå“ˆï¼‰ã€‚" },
    { name: "äº”ç­‰å¥–ï¼š5.2", tip: "è™½ç„¶å°ï¼Œä½†ä¹Ÿæ˜¯å…ƒæ—¦çš„å¥½å½©å¤´ã€‚" },
  ];

  // æ¦‚ç‡æƒé‡ï¼ˆå¯æ”¹ï¼‰ï¼šæ•°å­—è¶Šå¤§è¶Šå®¹æ˜“æŠ½åˆ°
  // ä¾‹å¦‚æƒ³è®©ä¸€ç­‰å¥–æ›´éš¾ï¼šæŠŠå®ƒçš„æƒé‡è°ƒå°ï¼ˆæ¯”å¦‚ 1ï¼‰ï¼Œå…¶ä»–è°ƒå¤§ï¼ˆæ¯”å¦‚ 3/4/5ï¼‰
  const weights = [2, 4, 3, 4, 5];

  // ======================
  // 2) DOM ä¸åˆå§‹åŒ–
  // ======================
  const $ = (s) => document.querySelector(s);
  const landing = $("#landing");
  const game = $("#game");
  const openBtn = $("#openBtn");
  const spinBtn = $("#spinBtn");
  const resetBtn = $("#resetBtn");
  const statusText = $("#statusText");
  const modal = $("#modal");
  const resultText = $("#resultText");
  const resultTip = $("#resultTip");
  const closeBtn = $("#closeBtn");
  const dateBadge = $("#dateBadge");

  // æ—¥æœŸè§’æ ‡ï¼ˆæŒ‰æœ¬åœ°æ—¶é—´æ˜¾ç¤ºï¼‰
  (function setDate(){
    const d = new Date();
    const pad = (n)=>String(n).padStart(2,"0");
    dateBadge.textContent = `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
  })();

  // å¥–æ± åˆ—è¡¨
  const prizeList = $("#prizeList");
  prizes.forEach((p, i) => {
    const li = document.createElement("li");
    li.className = "li";
    li.innerHTML = `<b>${p.name}</b><span>ç¼–å· ${i+1}</span>`;
    prizeList.appendChild(li);
  });

  // ======================
  // 3) è½¬ç›˜ç»˜åˆ¶ï¼ˆCanvasï¼‰
  // ======================
  const wheel = $("#wheel");
  const ctx = wheel.getContext("2d");

  let rotation = 0;       // å½“å‰è½¬ç›˜è§’åº¦ï¼ˆå¼§åº¦ï¼‰
  let spinning = false;   // æ˜¯å¦æ­£åœ¨è½¬
  let hasDrawn = false;   // æ˜¯å¦å·²ç»æŠ½è¿‡ä¸€æ¬¡ï¼ˆé»˜è®¤å•æ¬¡å¼€å¥–ï¼‰
  let lastWinIndex = null;

  function drawWheel(angleRad = 0){
    const W = wheel.width, H = wheel.height;
    const cx = W/2, cy = H/2;
    const r = Math.min(W, H) * 0.45;

    ctx.clearRect(0,0,W,H);

    // å¤–åœˆå¾®å…‰
    ctx.save();
    ctx.translate(cx, cy);
    ctx.beginPath();
    ctx.arc(0,0,r+22,0,Math.PI*2);
    ctx.strokeStyle = "rgba(255,255,255,.12)";
    ctx.lineWidth = 16;
    ctx.stroke();
    ctx.restore();

    const n = prizes.length;
    const slice = (Math.PI * 2) / n;

    ctx.save();
    ctx.translate(cx, cy);
    ctx.rotate(angleRad);

    for(let i=0;i<n;i++){
      const start = i * slice;
      const end = start + slice;

      // æ¯å—é¢œè‰²ï¼ˆç”¨ HSL åšå‡ºåŒºåˆ†ï¼‰
      const hue = (i * (360 / n) + 30) % 360;
      ctx.beginPath();
      ctx.moveTo(0,0);
      ctx.arc(0,0,r,start,end);
      ctx.closePath();
      ctx.fillStyle = `hsla(${hue}, 85%, 60%, .92)`;
      ctx.fill();

      // åˆ†å‰²çº¿
      ctx.beginPath();
      ctx.arc(0,0,r,start,end);
      ctx.strokeStyle = "rgba(255,255,255,.22)";
      ctx.lineWidth = 3;
      ctx.stroke();

      // æ–‡æœ¬
      ctx.save();
      ctx.rotate(start + slice/2);
      ctx.textAlign = "right";
      ctx.fillStyle = "rgba(15,16,20,.92)";
      ctx.font = "900 26px ui-sans-serif, system-ui";
      ctx.fillText(prizes[i].name, r-18, 10);
      ctx.restore();
    }

    // ä¸­å¿ƒåœ†é®ç½©ï¼ˆå¢å¼ºå±‚æ¬¡ï¼‰
    ctx.beginPath();
    ctx.arc(0,0, r*0.18, 0, Math.PI*2);
    ctx.fillStyle = "rgba(255,255,255,.85)";
    ctx.fill();

    ctx.restore();
  }

  drawWheel(rotation);

  // ======================
  // 4) æŠ½å¥–é€»è¾‘ï¼šåŠ æƒéšæœº + æŒ‡å®šè½ç‚¹è§’åº¦
  // ======================
  function pickIndexByWeight(){
    const sum = weights.reduce((a,b)=>a+b, 0);
    let x = Math.random() * sum;
    for(let i=0;i<weights.length;i++){
      x -= weights[i];
      if(x <= 0) return i;
    }
    return weights.length - 1;
  }

  // æŒ‡é’ˆåœ¨â€œæ­£ä¸Šæ–¹â€ï¼Œè€Œ canvas é»˜è®¤ 0 å¼§åº¦åœ¨æ­£å³æ–¹ï¼Œæ‰€ä»¥è¦åšè§’åº¦æ¢ç®—
  // æˆ‘ä»¬å¸Œæœ›æœ€ç»ˆåœåœ¨æŸä¸ªæ‰‡åŒºçš„ä¸­é—´ç‚¹ï¼Œä¸”æ‰‡åŒºä¸­é—´å¯¹å‡†æŒ‡é’ˆï¼ˆæ­£ä¸Šï¼‰
  function targetRotationForIndex(index){
    const n = prizes.length;
    const slice = (Math.PI*2) / n;

    // æ‰‡åŒºä¸­å¿ƒè§’ï¼ˆä» 0 å¼€å§‹é¡ºæ—¶é’ˆï¼‰
    const center = index * slice + slice/2;

    // æŒ‡é’ˆä½äº -90Â°ï¼ˆæ­£ä¸Šï¼‰ï¼Œæ‰€ä»¥è¦è®© center å¯¹é½åˆ° -90Â°
    const pointerAngle = -Math.PI/2;

    // éœ€è¦æ—‹è½¬åˆ°ï¼špointerAngle - center
    return pointerAngle - center;
  }

  function easeOutCubic(t){ return 1 - Math.pow(1-t, 3); }

  function spin(){
    if(spinning) return;
    if(hasDrawn){
      statusText.textContent = "å·²å¼€å¥–ï¼ˆå¦‚éœ€å†æŠ½è¯·ç‚¹é‡ç½®ï¼‰";
      return;
    }

    spinning = true;
    spinBtn.disabled = true;
    statusText.textContent = "è½¬åŠ¨ä¸­â€¦";

    const winIndex = pickIndexByWeight();
    lastWinIndex = winIndex;

    // ç›®æ ‡è§’åº¦ï¼ˆåŠ å¾ˆå¤šåœˆè®©å®ƒæ›´åƒæŠ½å¥–ï¼‰
    const base = targetRotationForIndex(winIndex);
    const extraTurns = 6 + Math.floor(Math.random()*3); // 6~8 åœˆ
    const start = rotation;
    const end = base + extraTurns * Math.PI * 2;

    const duration = 3200 + Math.random()*500; // 3.2~3.7s
    const t0 = performance.now();

    function frame(now){
      const t = Math.min(1, (now - t0) / duration);
      const e = easeOutCubic(t);
      rotation = start + (end - start) * e;
      drawWheel(rotation);

      if(t < 1){
        requestAnimationFrame(frame);
      }else{
        spinning = false;
        hasDrawn = true;

        statusText.textContent = "å·²å¼€å¥–";
        showResult(winIndex);
        playConfetti(); // å°å½©è›‹
      }
    }
    requestAnimationFrame(frame);
  }

  // ======================
  // 5) ç»“æœå¼¹çª—
  // ======================
  function showResult(i){
    resultText.textContent = prizes[i].name;
    resultTip.textContent = prizes[i].tip || "";
    modal.style.display = "flex";
  }
  function closeResult(){
    modal.style.display = "none";
  }

  // ======================
  // 6) å½©çº¸/ç¤¼èŠ±ç‰¹æ•ˆï¼ˆè½»é‡ç‰ˆï¼‰
  // ======================
  const fx = document.getElementById("fx");
  const fctx = fx.getContext("2d");
  let fxParticles = [];
  let fxRunning = false;

  function resizeFx(){
    fx.width = window.innerWidth * devicePixelRatio;
    fx.height = window.innerHeight * devicePixelRatio;
  }
  window.addEventListener("resize", resizeFx);
  resizeFx();

  function playConfetti(){
    fx.style.display = "block";
    fxParticles = [];

    const count = 140;
    const W = fx.width, H = fx.height;

    for(let i=0;i<count;i++){
      const x = (Math.random()*0.8 + 0.1) * W;
      const y = -Math.random() * H * 0.2;
      const vx = (Math.random() - 0.5) * 1.2 * devicePixelRatio;
      const vy = (Math.random() * 2.2 + 2.2) * devicePixelRatio;
      const size = (Math.random() * 10 + 6) * devicePixelRatio;
      const rot = Math.random() * Math.PI * 2;
      const vr = (Math.random() - 0.5) * 0.18;
      const hue = Math.floor(Math.random()*360);
      fxParticles.push({x,y,vx,vy,size,rot,vr,hue,life: 140 + Math.random()*60});
    }

    if(!fxRunning){
      fxRunning = true;
      requestAnimationFrame(fxLoop);
      setTimeout(()=>{ fx.style.display="none"; }, 2200);
    }
  }

  function fxLoop(){
    const W = fx.width, H = fx.height;
    fctx.clearRect(0,0,W,H);

    fxParticles.forEach(p=>{
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.02 * devicePixelRatio;
      p.rot += p.vr;
      p.life -= 1;

      fctx.save();
      fctx.translate(p.x, p.y);
      fctx.rotate(p.rot);
      fctx.fillStyle = `hsla(${p.hue}, 90%, 60%, .85)`;
      fctx.fillRect(-p.size/2, -p.size/2, p.size, p.size*0.55);
      fctx.restore();
    });

    fxParticles = fxParticles.filter(p => p.life > 0 && p.y < H + 60*devicePixelRatio);

    if(fxParticles.length > 0){
      requestAnimationFrame(fxLoop);
    }else{
      fxRunning = false;
      fx.style.display = "none";
    }
  }

  // ======================
  // 7) äº¤äº’ï¼šå¼€å¯/æŠ½å¥–/é‡ç½®
  // ======================
  openBtn.addEventListener("click", ()=>{
    landing.style.display = "none";
    game.style.display = "block";
    // å°å°å…¥åœºâ€œéšæœºèµ·å§‹è§’åº¦â€ï¼Œæ›´åƒçœŸå®è½¬ç›˜
    rotation = (Math.random()*Math.PI*2);
    drawWheel(rotation);
    statusText.textContent = "å‡†å¤‡å°±ç»ª";
  });

  spinBtn.addEventListener("click", spin);

  resetBtn.addEventListener("click", ()=>{
    hasDrawn = false;
    spinBtn.disabled = false;
    statusText.textContent = "å‡†å¤‡å°±ç»ª";
    // é‡ç½®æ—¶ä¸å¼ºåˆ¶å½’é›¶ï¼Œä¿æŒè‡ªç„¶
  });

  closeBtn.addEventListener("click", closeResult);
  modal.addEventListener("click", (e)=>{
    if(e.target === modal) closeResult();
  });

  // é”®ç›˜ Esc å…³é—­å¼¹çª—
  window.addEventListener("keydown", (e)=>{
    if(e.key === "Escape") closeResult();
  });
</script>
</body>
</html>
